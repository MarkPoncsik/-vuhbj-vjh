<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ú—ñ–Ω—ñ-—ñ–≥—Ä–∏</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #000000, #0a0a33, #2e0a3d);
    color: #ECECEC;
    text-align: center;
  }
  .screen { display: none; padding: 20px; }
  .active { display: block; }
  button {
    background: #9a70f5;
    border: none;
    padding: 10px 20px;
    border-radius: 12px;
    color: #fff;
    font-size: 18px;
    margin: 10px;
  }
  button:hover { background: #FFDE59; color: #000; }
  .grid {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    gap: 2px;
    margin: 10px auto;
    max-width: 90vw;
  }
  .cell {
    background: #1c1c3c;
    padding: 4px;
    border-radius: 4px;
    font-size: 18px;
  }
  input {
    padding: 8px;
    border-radius: 8px;
    border: none;
    width: 70%;
    margin-top: 10px;
    font-size: 16px;
  }
  .emoji-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 10px;
    justify-items: center;
    margin-top: 20px;
  }
  .card {
    width: 50px; height: 50px;
    background: #1c1c3c;
    border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    font-size: 28px;
    cursor: pointer;
  }
  .face { display: none; }
  .revealed .face { display: block; }
  .hidden { visibility: hidden; }
  .faces-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(35px, 1fr));
    gap: 5px;
    margin-top: 20px;
  }
  .face-btn {
    font-size: 26px;
    background: none;
    border: none;
    cursor: pointer;
  }
</style>
</head>
<body>

<div id="welcome" class="screen active">
  <h1>–í–∏–ø—Ä–æ–±—É–≤–∞–Ω–Ω—è</h1>
  <p>–ü—Ä–æ–π–¥–∏ —Ç—Ä–∏ –∑–∞–≤–¥–∞–Ω–Ω—è —Ç–∞ –¥—ñ–∑–Ω–∞–π—Å—è —Å–≤—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.</p>
  <button onclick="startGame1()">–ü–æ—á–∞—Ç–∏</button>
</div>

<!-- –ì—Ä–∞ 1 -->
<div id="game1" class="screen">
  <h2>–ì—Ä–∞ 1: –ó–Ω–∞–π–¥–∏ —Å–ª–æ–≤–æ</h2>
  <p>–£ —Å—ñ—Ç—Ü—ñ 12√ó12 –ø—Ä–∏—Ö–æ–≤–∞–Ω—ñ —Å–ª–æ–≤–∞. –í–≤–µ–¥–∏ –∑–Ω–∞–π–¥–µ–Ω–µ —Å–ª–æ–≤–æ –Ω–∏–∂—á–µ.</p>
  <div id="grid" class="grid"></div>
  <input type="text" id="wordInput" placeholder="–í–≤–µ–¥–∏ —Å–ª–æ–≤–æ">
  <button onclick="checkWord()">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏</button>
  <p id="message1"></p>
</div>

<!-- –ì—Ä–∞ 2 -->
<div id="game2" class="screen">
  <h2>–ì—Ä–∞ 2: –ó–Ω–∞–π–¥–∏ –≤—Å—ñ –ø–∞—Ä–∏ –µ–º–æ–¥–∑—ñ</h2>
  <p>–í—ñ–¥–∫—Ä–∏–≤–∞–π –∫–∞—Ä—Ç–∫–∏ —Ç–∞ –∑–Ω–∞—Ö–æ–¥—å —É—Å—ñ –æ–¥–Ω–∞–∫–æ–≤—ñ.</p>
  <div id="emojiGrid" class="emoji-grid"></div>
  <p id="message2"></p>
</div>

<!-- –ì—Ä–∞ 3 -->
<div id="game3" class="screen">
  <h2>–ì—Ä–∞ 3: –ó–Ω–∞–π–¥–∏ –≤—Å—ñ —É—Å–º—ñ—à–∫–∏</h2>
  <p>–°–µ—Ä–µ–¥ –±–∞–≥–∞—Ç—å–æ—Ö –±–∞–π–¥—É–∂–∏—Ö üòê ‚Äî –∑–Ω–∞–π–¥–∏ –≤—Å—ñ üòä.</p>
  <div id="facesGrid" class="faces-grid"></div>
  <p id="message3"></p>
</div>

<!-- –§—ñ–Ω–∞–ª -->
<div id="final" class="screen">
  <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
  <p id="finalText"></p>
</div>

<script>
let selectedWord = null;

// -------- –ì—Ä–∞ 1 --------
const words = ["—Å–≤–æ–±–æ–¥–∞", "–¥—É–º–∞–π", "–æ–ø—ñ—Ä"];
let placedWords = [];

function startGame1(){
  showScreen("game1");
  generateGrid();
}

function generateGrid(){
  const gridEl = document.getElementById("grid");
  gridEl.innerHTML = "";
  let grid = Array.from({length: 12}, () => Array(12).fill(null));

  // –≤—Å—Ç–∞–≤–ª—è—î–º–æ –ø–æ 2 –∫–æ–∂–Ω–æ–≥–æ —Å–ª–æ–≤–∞
  placedWords = [];
  words.forEach(w=>{
    for(let c=0;c<2;c++){
      let horizontal = Math.random() > 0.5;
      let row, col;
      let fits=false;
      let tries=0;
      while(!fits && tries<100){
        tries++;
        row = Math.floor(Math.random()*12);
        col = Math.floor(Math.random()*12);
        if(horizontal){
          if(col+w.length<=12){
            fits=true;
            for(let i=0;i<w.length;i++) grid[row][col+i]=w[i];
          }
        } else {
          if(row+w.length<=12){
            fits=true;
            for(let i=0;i<w.length;i++) grid[row+i][col]=w[i];
          }
        }
      }
      placedWords.push(w);
    }
  });

  // –∑–∞–ø–æ–≤–Ω—é—î–º–æ —Ä–µ—à—Ç—É –≤–∏–ø–∞–¥–∫–æ–≤–∏–º–∏ –±—É–∫–≤–∞–º–∏
  const alphabet = "–∞–±–≤–≥“ë–¥–µ–∂–∑–∏–π–∫–ª–º–Ω–æ–ø—Ä—Å—Ç—É—Ñ—Ö—Ü—á—à—â—å—é—è";
  for(let r=0;r<12;r++){
    for(let c=0;c<12;c++){
      if(!grid[r][c]){
        grid[r][c] = alphabet[Math.floor(Math.random()*alphabet.length)];
      }
    }
  }

  grid.flat().forEach(ch=>{
    let cell=document.createElement("div");
    cell.className="cell";
    cell.textContent=ch;
    gridEl.appendChild(cell);
  });
}

function checkWord(){
  const input = document.getElementById("wordInput").value.trim().toLowerCase();
  if(words.includes(input)){
    selectedWord = input;
    document.getElementById("message1").textContent="–°–ª–æ–≤–æ –∑–Ω–∞–π–¥–µ–Ω–æ!";
    setTimeout(startGame2,1000);
  } else {
    document.getElementById("message1").textContent="–¶—å–æ–≥–æ —Å–ª–æ–≤–∞ –Ω–µ–º–∞—î —É —Å—ñ—Ç—Ü—ñ.";
  }
}

// -------- –ì—Ä–∞ 2 --------
let firstCard=null;
let lock=false;
let pairsFound=0;

function startGame2(){
  showScreen("game2");
  const emojis = ["üëÅÔ∏è","üîí","üîë","‚ö°","üî•","üåô","üåç","üì°","üïí","üí°"];
  let deck=[...emojis,...emojis];
  deck=deck.sort(()=>Math.random()-0.5);
  const grid=document.getElementById("emojiGrid");
  grid.innerHTML="";
  pairsFound=0;
  deck.forEach(e=>{
    let card=document.createElement("div");
    card.className="card";
    let span=document.createElement("span");
    span.className="face";
    span.textContent=e;
    card.appendChild(span);
    card.onclick=()=>reveal(card,e);
    grid.appendChild(card);
  });
}

function reveal(card,symbol){
  if(lock||card.classList.contains("revealed")) return;
  card.classList.add("revealed");
  if(!firstCard){ firstCard={card,symbol}; }
  else {
    if(firstCard.symbol===symbol){
      pairsFound++;
      firstCard=null;
      if(pairsFound===10){
        document.getElementById("message2").textContent="–£—Å—ñ –ø–∞—Ä–∏ –∑–Ω–∞–π–¥–µ–Ω—ñ!";
        setTimeout(startGame3,1000);
      }
    } else {
      lock=true;
      setTimeout(()=>{
        card.classList.remove("revealed");
        firstCard.card.classList.remove("revealed");
        firstCard=null; lock=false;
      },800);
    }
  }
}

// -------- –ì—Ä–∞ 3 --------
function startGame3(){
  showScreen("game3");
  const grid=document.getElementById("facesGrid");
  grid.innerHTML="";
  let total=120;
  let smiles=5;
  let arr=Array(total).fill("üòê");
  for(let i=0;i<smiles;i++){
    let pos=Math.floor(Math.random()*total);
    arr[pos]="üòä";
  }
  arr.forEach(face=>{
    let btn=document.createElement("button");
    btn.className="face-btn";
    btn.textContent=face;
    btn.onclick=()=>{
      if(face==="üòä"){
        btn.disabled=true;
        smiles--;
        if(smiles===0){
          document.getElementById("message3").textContent="–¢–∏ –∑–Ω–∞–π—à–æ–≤ —É—Å—ñ —É—Å–º—ñ—à–∫–∏!";
          setTimeout(showFinal,1000);
        }
      }
    };
    grid.appendChild(btn);
  });
}

// -------- –§—ñ–Ω–∞–ª --------
function showFinal(){
  showScreen("final");
  let txt="";
  if(selectedWord==="—Å–≤–æ–±–æ–¥–∞"){
    txt="–¢–≤–æ—è –∂–∞–≥–∞ –¥–æ —Å–≤–æ–±–æ–¥–∏ –≤—Ä–∞–∂–∞—î. –í—ñ—Ç–∞—î–º–æ –∑ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è–º –≤–∏–ø—Ä–æ–±—É–≤–∞–Ω—å.";
  } else if(selectedWord==="–¥—É–º–∞–π"){
    txt="–¢–≤–æ—î –ø—Ä–∞–≥–Ω–µ–Ω–Ω—è –¥—É–º–∞—Ç–∏ –Ω–µ–±–µ–∑–ø–µ—á–Ω–µ –¥–ª—è —Å–∏—Å—Ç–µ–º–∏. –ê–ª–µ —Å–∞–º–µ –≤ —Ü—å–æ–º—É —Å–∏–ª–∞.";
  } else if(selectedWord==="–æ–ø—ñ—Ä"){
    txt="–¢–≤–æ—è –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –¥–æ –æ–ø–æ—Ä—É —Ä–æ–±–∏—Ç—å —Ç–µ–±–µ –≤–æ—Ä–æ–≥–æ–º —Å–∏—Å—Ç–µ–º–∏ ‚Äî —ñ –Ω–∞–¥—ñ—î—é –¥–ª—è —ñ–Ω—à–∏—Ö.";
  } else {
    txt="–¢–∏ –ø—Ä–æ–π—à–æ–≤ –≤–∏–ø—Ä–æ–±—É–≤–∞–Ω–Ω—è.";
  }
  document.getElementById("finalText").textContent=txt;
}

function showScreen(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}
</script>
</body>
</html>
